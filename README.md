## üöó Book Company Car ‚Äî Car Booking API
**REST API —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏.
–ü—Ä–æ–µ–∫—Ç –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∞–≤—Ç–æ–ø–∞—Ä–∫–∞.**

### üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –Ω–∞ –≤—Ä–µ–º—è

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ—Ç –¥–≤–æ–π–Ω—ã—Ö –±—Ä–æ–Ω–µ–π)

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º—Ñ–æ—Ä—Ç–∞ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

- –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

- –ó–∞—â–∏—Ç–∞ –æ—Ç race condition

- Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ

- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

### üèó –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- Laravel

- MySQL

- Docker (PHP + Nginx + MySQL)

- Eloquent Relationships

- API Resources

- Form Requests

### üß† –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ê–≤—Ç–æ–º–æ–±–∏–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—ã–º, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏:**
```
existing.start_time < new_end_time
AND
existing.end_time > new_start_time
```

### üê≥ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Docker
#### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```
git clone https://github.com/theAbdurahmon/book-company-car.git
cd book-company-car
```

#### 2Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å .env
```cp .env.example .env```

#### –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î:
```
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=bookCompanyCar
DB_USERNAME=root
DB_PASSWORD=0000
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```docker compose up -d --build```

### 4Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Laravel
```
docker exec -it bookCompanyCar composer install
docker exec -it bookCompanyCar php artisan key:generate
```

### 5Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥—ã
```docker exec -it bookCompanyCar php artisan migrate --seed```

### üåê API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
```http://localhost:8000```

### üîå –û—Å–Ω–æ–≤–Ω—ã–µ API endpoints
| –ú–µ—Ç–æ–¥  | URL                 | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|--------|---------------------|-----------------------------------|
| GET    | /api/cars/available | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–∞—à–∏–Ω   |
| POST   | /api/trips          | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ        |
| DELETE | /api/trips/{id}     | –û—Ç–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ|

### üõ° –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ë–î

- Row-level locking (FOR UPDATE)

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏
